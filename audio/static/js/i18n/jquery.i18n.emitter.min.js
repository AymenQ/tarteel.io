(function(a){'use strict';var b=function(){this.language=a.i18n.languages[String.locale]||a.i18n.languages['default']};b.prototype={constructor:b,emit:function(b,c){var d,e,f,g=this;switch(typeof b){case'string':case'number':d=b;break;case'object':if(e=a.map(b.slice(1),function(a){return g.emit(a,c)}),f=b[0].toLowerCase(),'function'==typeof g[f])d=g[f](e,c);else throw new Error('unknown operation "'+f+'"');break;case'undefined':d='';break;default:throw new Error('unexpected type in AST: '+typeof b);}return d},concat:function(b){var c='';return a.each(b,function(a,b){c+=b}),c},replace:function(a,b){var c=parseInt(a[0],10);return c<b.length?b[c]:'$'+(c+1)},plural:function(a){var b=parseFloat(this.language.convertNumber(a[0],10)),c=a.slice(1);return c.length?this.language.convertPlural(b,c):''},gender:function(a){var b=a[0],c=a.slice(1);return this.language.gender(b,c)},grammar:function(a){var b=a[0],c=a[1];return c&&b&&this.language.convertGrammar(c,b)}},a.extend(a.i18n.parser.emitter,new b)})(jQuery);
